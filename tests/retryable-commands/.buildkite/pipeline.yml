steps:
  - label: ":console: Automatic retry #1"
    command: "exit 123"
    artifact_paths: "*.sh"
    retry:
      # Disable manual retries for this job
      manual: false
      
      # Setup some cases where a retry will happen automatically
      automatic:
        - exit_status: 123
          maximum: 3
          
  - label: ":console: Automatic retry #2"
    command: "exit -1"
    artifact_paths: "*.sh"
    retry:
      - exit_statuses:
          - -1
          - -2
          - -3

  - label: ":console: Manual retry"
    command: "fail-then-succeed.sh"
    artifact_paths: "*.sh"

  - wait

  - command: "echo hooray!"
    name: ":tada:"
